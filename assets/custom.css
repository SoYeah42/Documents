/* Modern Variables */
:root {
    /* Nord Color Palette */
    --nord0: #2e3440;  /* Polar Night - darkest */
    --nord1: #3b4252;  /* Polar Night */
    --nord2: #434c5e;  /* Polar Night */
    --nord3: #4c566a;  /* Polar Night - lightest */
    --nord4: #d8dee9;  /* Snow Storm - darkest */
    --nord5: #e5e9f0;  /* Snow Storm */
    --nord6: #eceff4;  /* Snow Storm - lightest */
    --nord7: #8fbcbb;  /* Frost */
    --nord8: #88c0d0;  /* Frost */
    --nord9: #81a1c1;  /* Frost */
    --nord10: #5e81ac; /* Frost */
    --nord11: #bf616a; /* Aurora - red */
    --nord12: #d08770; /* Aurora - orange */
    --nord13: #ebcb8b; /* Aurora - yellow */
    --nord14: #a3be8c; /* Aurora - green */
    --nord15: #b48ead; /* Aurora - purple */

    /* Core Colors */
    --mocha-bg: var(--nord0);
    --mocha-surface: var(--nord1);
    --mocha-accent: var(--nord8);
    --mocha-text: var(--nord6);
    
    /* Extended Palette */
    --mocha-muted: var(--nord3);
    --mocha-subtle: var(--nord2);
    --mocha-foam: var(--nord7);
    --mocha-gold: var(--nord13);
    --mocha-rose: var(--nord11);
    --mocha-pine: var(--nord10);
    
    /* Effects */
    --border-radius: 12px;
    --transition-speed: 0.3s;
    --glass-effect: rgba(236, 239, 244, 0.05);
    --card-shadow: 0 8px 16px rgba(46, 52, 64, 0.2);
    --hover-transform: translateY(-2px);
    
    /* Gradients */
    --mocha-gradient: linear-gradient(145deg, 
        var(--nord1) 0%,
        var(--nord0) 100%);
    --accent-gradient: linear-gradient(135deg,
        var(--nord8) 0%,
        var(--nord10) 100%);
}

/* Dark Theme Configuration */
[data-md-color-scheme="slate"] {
    --md-primary-fg-color: var(--mocha-accent);
    --md-accent-fg-color: var(--mocha-foam);
    --md-bg-color: var(--mocha-bg);
    --md-card-bg-color: var(--mocha-surface);
    --md-typeset-color: var(--mocha-text);
    --md-code-bg-color: var(--mocha-surface);
    
    /* Header & Footer */
    --md-footer-bg-color: var(--mocha-surface);
    --md-footer-bg-color--dark: var(--mocha-surface);
    
    /* Typography */
    --md-default-fg-color: var(--mocha-text);
    --md-default-fg-color--light: var(--mocha-muted);
}

/* Light Theme Configuration */
[data-md-color-scheme="default"] {
    /* Core colors */
    --md-primary-fg-color: var(--nord10);
    --md-accent-fg-color: var(--nord9);
    --md-bg-color: var(--nord6);         /* Snow Storm - lightest */
    --md-card-bg-color: var(--nord5);    /* Snow Storm */
    --md-typeset-color: var(--nord1);    /* Polar Night for text */
    --md-code-bg-color: var(--nord4);    /* Snow Storm - darkest */
    
    /* Header & Footer */
    --md-footer-bg-color: var(--nord4);
    --md-footer-bg-color--dark: var(--nord3);
    
    /* Typography */
    --md-default-fg-color: var(--nord1);
    --md-default-fg-color--light: var(--nord2);
}

/* Add these new selectors to force consistent background colors */
[data-md-color-scheme="slate"] .md-sidebar {
    background-color: var(--mocha-bg);
}

[data-md-color-scheme="slate"] .md-main {
    background-color: var(--mocha-bg);
}

[data-md-color-scheme="slate"] .md-content__inner {
    background-color: var(--mocha-bg);
}

/* Light Theme Specific Overrides */
[data-md-color-scheme="default"] .md-nav {
    background-color: var(--nord6);
    color: var(--nord1);
}

[data-md-color-scheme="default"] .md-sidebar__scrollwrap {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-content__inner {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-header {
    background-color: var(--nord5);
    color: var(--nord1);
}

[data-md-color-scheme="default"] .md-nav__title {
    background-color: var(--nord5) !important;
    color: var(--nord1);
}

[data-md-color-scheme="default"] .md-content article {
    background: var(--nord5);
    border: 1px solid var(--nord4);
}

[data-md-color-scheme="default"] .highlight {
    background: var(--nord4) !important;
    border: 1px solid var(--nord3);
}

[data-md-color-scheme="default"] .md-typeset h1,
[data-md-color-scheme="default"] .md-typeset h2,
[data-md-color-scheme="default"] .md-typeset h3,
[data-md-color-scheme="default"] .md-typeset h4,
[data-md-color-scheme="default"] .md-typeset h5,
[data-md-color-scheme="default"] .md-typeset h6 {
    color: var(--nord10);
    -webkit-text-fill-color: var(--nord10);
}

/* Light Theme Navigation Background Fixes */
[data-md-color-scheme="default"] .md-nav--primary .md-nav__title,
[data-md-color-scheme="default"] .md-nav--secondary {
    background-color: var(--nord6) !important;
    color: var(--nord1);
}

[data-md-color-scheme="default"] .md-nav__item {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-nav__list {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-sidebar {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-sidebar .md-nav {
    background-color: var(--nord6);
}

[data-md-color-scheme="default"] .md-nav__title {
    color: var(--nord1);
    background-color: var(--nord5) !important;
    border-radius: var(--border-radius);
    margin-bottom: 1rem;
}

[data-md-color-scheme="default"] .md-nav__link--active {
    color: var(--nord10) !important;
    background-color: var(--nord5);
    border-left: 3px solid var(--nord10);
}

[data-md-color-scheme="default"] .md-nav__item .md-nav__link--active {
    color: var(--nord10) !important;
}

/* Document Background */
.md-main__inner {
    background-color: var(--md-document-bg-color);
}

/* Theme Toggle Icon Color - Dark Mode */
[data-md-color-scheme="slate"] .md-header__button.md-icon {
    color: var(--md-primary-fg-color);
}

/* Modern Card Design */
.md-content article {
    background: var(--mocha-gradient);
    border: 1px solid var(--glass-effect);
    border-radius: var(--border-radius);
    padding: 2rem;           /* Reduced padding */
    box-shadow: var(--card-shadow);
    backdrop-filter: blur(10px);
    transition: border-color var(--transition-speed);
    max-width: 100%;
}

.md-content article:hover {
    border-color: var(--mocha-subtle);
}

/* Light Theme Specific Overrides */
[data-md-color-scheme="default"] .md-nav__link {
    color: var(--nord2);
}

[data-md-color-scheme="default"] .md-nav__link:hover {
    color: var(--nord10) !important;
}

[data-md-color-scheme="default"] .md-nav__link--active {
    color: var(--nord9) !important;
}

[data-md-color-scheme="default"] .md-search__input {
    background-color: var(--nord5);
}

[data-md-color-scheme="default"] .md-search__input::placeholder {
    color: var(--nord3);
}

[data-md-color-scheme="default"] .md-content article {
    background: var(--nord6);
    border: 1px solid var(--nord4);
}

/* Typography Enhancement */
h1, h2, h3, h4, h5, h6 {
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    border-bottom: 2px solid var(--glass-effect);
    padding-bottom: 0.5em;
    margin-top: 2em;
    font-weight: 600;
    letter-spacing: -0.02em;
}

/* Navigation Refinement */
.md-nav__link {
    padding: 0.4rem 0.6rem;  /* Adjusted padding */
    white-space: normal;     /* Allow text wrapping */
    line-height: 1.4;        /* Better line height for readability */
    word-wrap: break-word;   /* Ensure long words wrap */
    height: auto;            /* Allow height to adjust to content */
    margin: 0;
    border-radius: 6px;
    transition: all var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
}

.md-nav__link:hover {
    background: var(--glass-effect);
    transform: translateX(5px);
    color: var(--mocha-gold) !important;
}

.md-nav__link--active {
    background: var(--glass-effect);
    color: var(--mocha-accent) !important;
    font-weight: 600;
    border-left: 3px solid var(--mocha-accent);
    padding-left: calc(1rem - 3px);
}

/* Navigation Background Fix */
.md-nav {
    background-color: var(--md-document-bg-color);
    color: var(--mocha-text);
    padding: 0.5rem;
    width: 100%;
}

/* Sidebar Background Fix */
.md-sidebar__scrollwrap {
    background-color: var(--md-document-bg-color);
    padding: 0 0.2rem;       /* Reduced padding */
}

/* Interactive Elements */
.md-button {
    background: var(--mocha-gradient);
    color: var(--mocha-text) !important;
    border: 1px solid var(--glass-effect);
    border-radius: var(--border-radius);
    padding: 0.8rem 1.5rem;
    font-weight: 600;
    letter-spacing: 0.5px;
    transition: all var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
}

.md-button:hover {
    background: var(--accent-gradient);
    transform: var(--hover-transform);
    box-shadow: var(--card-shadow);
}

/* Code Blocks */
.highlight {
    background: linear-gradient(145deg, 
        var(--mocha-surface) 0%,
        rgba(46, 52, 64, 0.95) 100%) !important;
    border: 1px solid rgba(136, 192, 208, 0.1);
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
    margin: 2rem 0;
    position: relative;
}

.highlight pre {
    padding: 1.5rem;
    font-size: 0.9rem;
    line-height: 1.6;
    background: transparent !important;
}

/* Code Block Syntax Highlighting */
[data-md-color-scheme="slate"] .highlight {
    --code-bg: rgba(59, 66, 82, 0.7);  /* Slightly transparent surface color */
    --code-comment: var(--mocha-muted); /* Mocha muted */
    --code-keyword: var(--mocha-accent); /* Mocha accent */
    --code-string: var(--mocha-foam); /* Mocha foam */
    --code-number: var(--mocha-gold); /* Mocha gold */
    --code-variable: var(--mocha-rose); /* Mocha rose */
    --code-function: var(--mocha-pine); /* Mocha pine */
}

[data-md-color-scheme="slate"] .highlight .k,
[data-md-color-scheme="slate"] .highlight .kd {
    color: var(--code-keyword);
}

[data-md-color-scheme="slate"] .highlight .s,
[data-md-color-scheme="slate"] .highlight .s1,
[data-md-color-scheme="slate"] .highlight .s2 {
    color: var(--code-string);
}

[data-md-color-scheme="slate"] .highlight .mi,
[data-md-color-scheme="slate"] .highlight .mf {
    color: var(--code-number);
}

[data-md-color-scheme="slate"] .highlight .nf {
    color: var(--code-function);
}

[data-md-color-scheme="slate"] .highlight .c1,
[data-md-color-scheme="slate"] .highlight .cm {
    color: var(--code-comment);
    font-style: italic;
}

/* Add subtle glow on hover */
.highlight:hover {
    border-color: rgba(136, 192, 208, 0.2);
    box-shadow: var(--card-shadow);
}

/* Table Styling */
.md-typeset table:not([class]) {
    border-radius: var(--border-radius);
    overflow: hidden;
    background: var(--mocha-gradient);
    border: 1px solid var(--glass-effect);
    box-shadow: var(--card-shadow);
}

.md-typeset table:not([class]) th {
    background-color: var(--mocha-surface);
    color: var(--mocha-gold);
    border-bottom: 2px solid var(--mocha-accent);
}

/* Search Enhancement */
.md-search__input {
    background: var(--mocha-bg) !important;
    border: 1px solid var(--glass-effect);
    border-radius: var(--border-radius);
    padding: 0.6rem 1rem;
    color: var(--mocha-text);
    transition: all var(--transition-speed);
}

.md-search__input::placeholder {
    color: var(--mocha-muted);
    opacity: 0.7;
}

.md-search__icon {
    color: var(--mocha-muted);
}

/* Remove white glow from navigation */
[data-md-color-scheme="default"] .md-nav--primary .md-nav__title {
    background-color: var(--nord6) !important;
    color: var(--nord1);
    box-shadow: none;
    margin: 0;
    padding: 1rem 0.8rem;
}

/* Fix search box container */
.md-search {
    padding: 0;
}

.md-search__form {
    border-radius: var(--border-radius);
    background-color: transparent;
}

/* Ensure search icon matches text color */
.md-search__icon[for="__search"] {
    color: var(--mocha-text);
}

/* Fix the background of search suggestions */
.md-search__output {
    border-radius: 0 0 var(--border-radius) var(--border-radius);
    background-color: var(--mocha-bg);
}

/* Search Bar Enhancement - Light Theme */
[data-md-color-scheme="default"] .md-search__input {
    background-color: var(--nord5);
    border: 1px solid var(--nord4);
    color: var(--nord1);
    border-radius: var(--border-radius);
    box-shadow: 0 2px 4px rgba(46, 52, 64, 0.1);
}

[data-md-color-scheme="default"] .md-search__input::placeholder {
    color: var(--nord3);
    opacity: 0.7;
}

[data-md-color-scheme="default"] .md-search__icon {
    color: var(--nord3);
}

/* Header Enhancement */
.md-header {
    backdrop-filter: blur(10px);
    background: var(--mocha-surface);
    border-bottom: 1px solid var(--glass-effect);
}

/* Navigation Header and Area Alignment */
.md-nav--primary .md-nav__title {
    margin: 0;
    padding: 1rem 0.8rem;
    background-color: transparent !important;
    border: none;
    background: none !important;
}

/* Modern Navigation Styling */
.md-nav__item {
    margin: 2px 0;           /* Reduced margin */
    width: 100%;
    padding: 0;
}

.md-nav__list {
    border-radius: var(--border-radius);
    padding-right: 0.1rem;   /* Reduced padding */
    width: 100%;
}

/* Footer Styling */
.md-footer {
    backdrop-filter: blur(10px);
    background: var(--mocha-surface);
    border-bottom: 1px solid var(--glass-effect);
}

/* Sidebar Enhancement */
[data-md-color-scheme="default"] .md-sidebar {
    background-color: var(--nord6);
    width: 16rem !important; /* Slightly reduced width */
    min-width: 12rem;
    padding: 0;
    border-right: 1px solid var(--nord4);
}

[data-md-color-scheme="default"] .md-sidebar__scrollwrap {
    padding: 0 0.2rem;       /* Reduced padding */
}

/* Image Styling */
.md-content img {
    border-radius: var(--border-radius);
    transition: transform var(--transition-speed);
}

.md-content img:hover {
    transform: scale(1.02);
}

/* Links */
[data-md-color-scheme="slate"] .md-typeset a {
    color: var(--mocha-foam);
    transition: all var(--transition-speed);
}

[data-md-color-scheme="slate"] .md-typeset a:hover {
    color: var(--mocha-gold);
    text-decoration: none;
}

/* Admonitions Styling */
.md-typeset .admonition {
    border-radius: var(--border-radius);
    border-left-width: 4px;
    box-shadow: var(--card-shadow);
}

/* Scrollbar Refinement */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-thumb {
    background: var(--accent-gradient);
    border-radius: 5px;
}

::-webkit-scrollbar-track {
    background: var(--mocha-surface);
}

/* Remove Animation for Page Transitions */
.md-content {
    animation: none;
    max-width: none;
    margin: 0 auto;         /* Center the article */
    padding-left: 1rem;     /* Reduce padding between nav and content */
}

.md-content__inner {
    animation: none;
}

/* Remove fadeIn keyframes since they're no longer needed */
@keyframes fadeIn {
    from {
        opacity: 1;
        transform: none;
    }
    to {
        opacity: 1;
        transform: none;
    }
}

/* Override any Material background patterns */
.md-main {
    background-image: none !important;
}

.md-footer {
    background-image: none !important;
}

.md-header {
    background-image: none !important;
}

/* Ensure navigation sections are consistent */
.md-nav--primary .md-nav__title {
    background-color: var(--mocha-bg) !important;
}

.md-nav--secondary {
    background-color: var(--mocha-bg) !important;
}

/* Navigation Width and Responsiveness */
.md-sidebar {
    width: 16rem !important;
    min-width: 12rem;
    padding: 0;
}

/* Remove Navigation Headers */
.md-nav__title {
    display: none;
}

.md-nav--primary > .md-nav__title {
    display: block;  /* Keep only the main site title */
    background: none !important;
    box-shadow: none;
    border: none;
    padding: 1rem 0.8rem;
    margin: 0;
}

/* Mobile Responsiveness Fixes */
@media screen and (max-width: 76.1875em) {
    /* Navigation Drawer */
    .md-sidebar--primary {
        position: fixed;
        left: -100%;        /* Start fully off-screen */
        width: 85% !important; /* Reduce width to prevent overflow */
        transform: translateX(0);
        transition: left 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 100;
        background-color: var(--md-bg-color);
        height: 100vh;
    }

    /* When nav is open */
    [data-md-toggle="drawer"]:checked ~ .md-container .md-sidebar--primary {
        left: 0;            /* Slide in from left */
        transform: none;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    /* Article Layout */
    .md-content {
        margin: 0 auto !important;
        padding: 0 1rem;
        width: 100%;
    }

    .md-grid {
        margin: 0 auto;
        padding: 0 1rem;  /* Smaller padding on mobile */
    }

    /* Prevent content scroll when nav is open */
    [data-md-toggle="drawer"]:checked ~ .md-container .md-main {
        overflow: hidden;
    }

    .md-nav--primary > .md-nav__title {
        background: none !important;
        box-shadow: none;
    }
}

/* Tablet Optimization */
@media screen and (min-width: 76.25em) and (max-width: 88em) {
    .md-grid {
        max-width: calc(100% - 16rem) !important;
        margin: 0 auto;         /* Center the content */
        padding: 0 1rem;        /* Add some padding on the sides */
    }

    .md-content {
        margin-left: 16rem;  /* Account for sidebar width */
    }
}

/* Tablet and Desktop Adjustments */
@media screen and (min-width: 76.25em) {
    .md-content {
        margin-left: 16rem;  /* Account for sidebar */
    }
    
    .md-sidebar--primary {
        width: 16rem;
    }
}

/* Large Screen Optimization */
@media screen and (min-width: 88em) {
    .md-grid {
        max-width: 90rem !important;
        margin: 0 auto;         /* Center the content */
        padding: 0 2rem;        /* Add horizontal padding */
    }
}

/* Navigation Container */
.md-nav {
    padding: 0.5rem;
    width: 100%;
}

/* Article Width and Layout */
.md-grid {
    max-width: 90rem !important;  /* Increased from default */
    margin: 0 auto;         /* Center the content */
    padding: 0 2rem;        /* Add horizontal padding */
}

/* Article Container */
.md-content article {
    max-width: 100%;
    margin: 1rem auto;      /* Center the article frame */
    padding: 2rem;
}

/* Ensure content adjusts to navigation */
@media screen and (min-width: 76.25em) {
    .md-content {
        margin-left: 16rem;  /* Match sidebar width */
    }
    
    .md-sidebar--primary {
        width: 16rem;
    }
}